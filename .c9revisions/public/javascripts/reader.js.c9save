{"ts":1363953661809,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"enyo.kind({\n    name: \"App\",\n    components: [\n        {\n            kind: \"Panels\",\n            name: \"mainPanel\",\n            classes: \"panels enyo-fit\",\n            arrangerKind: \"CollapsingArranger\",\n            components: [\n                {\n                    kind: \"Panels\",\n                    name: \"navPanel\",\n                    classes: \"panels enyo-fit\",\n                    components: [\n                        {kind: \"reader.fragment.Feeds\", name: \"feeds\"}\n                    ]\n                },\n                {\n                    kind: \"Panels\",\n                    name: \"contentPanel\",\n                    classes: \"panels enyo-fit\",\n                    components: [\n                        {\n                            kind: \"Panels\",\n                            name: \"articlePanel\",\n                            classes: \"panels enyo-fit article-panel\",\n                            components: [\n                                {kind: \"Scroller\", components: [\n                                    {kind: \"reader.fragment.Articles\", name: \"articles\"}\n                                ]}\n                            ]\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n});\n\nenyo.kind({\n    name: \"reader.fragment.Feeds\",\n    components: [\n        {\n            kind: \"reader.fragment.AddFeedBox\"\n        },\n        {\n            name: \"list\",\n            kind: \"List\",\n            count: 0,\n            onSetupItem: \"setupItem\",\n            components: [\n                {\n                    name: \"item\",\n                    ontap: \"itemTap\",\n                    components: [\n                        {\n                            name: \"name\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    feeds: [],\n    setupItem: function(inSender, inEvent){\n        this.$.name.setContent(this.feeds[inEvent.index].name);\n    },\n    itemTap: function(inSender, inEvent){\n        var i = inEvent.index;\n        var xmlUrl = this.feeds[i].xmlUrl;\n        \n        socket.emit('load feed articles', {url: xmlUrl});\n    },\n    refreshList: function(data){\n        this.feeds = data;\n        this.$.list.setCount(this.feeds.length);\n        this.$.list.refresh();\n    }\n});\n\nenyo.kind({\n    name: \"reader.fragment.Articles\",\n    components: [\n        {\n            content: \"aaaa\"\n        },\n        {\n            name: \"list\",\n            kind: \"List\",\n            count: 0,\n            onSetupItem: \"setupItem\",\n            components: [\n                {kind: \"reader.fragment.Article\", name: \"article\", ontap: \"itemTap\"},\n            ]\n        }\n    ],\n    articles: [],\n    setupItem: function(inSender, inEvent){\n        var i = inEvent.index;\n        \n        this.$.article.$.title.setContent(this.articles[i].title);\n        this.$.article.$.date.setContent(this.articles[i].date);\n        this.$.article.$.description.setContent(this.articles[i].description);\n        this.$.article.$.description.hide();\n    },\n    itemTap: function(inSender, inEvent){\n        var i = inEvent.index;\n        var link = this.articles[i].link;\n        \n        //window.open(link, '_blank');\n        \n        console.log(i);\n        this.$.article.$.description.setShowing(!this.$.article.$.description.showing);\n    },\n    refreshItem: function(data){\n        this.articles = data;\n        this.$.list.setCount(this.articles.length);\n        this.$.list.refresh();\n    }\n});\n\nenyo.kind({\n    name: \"reader.fragment.Article\",\n    classes: \"enyo-border-box\",\n    components: [\n        {name: \"date\"},\n        {name: \"title\"},\n        {name: \"description\", allowHtml: true}\n    ]\n});\n\nenyo.kind({\n    name: \"reader.fragment.AddFeedBox\",\n    kind: \"onyx.MenuDecorator\",\n    components: [\n        {content: \"Add Feed\"},\n        {\n            kind: \"onyx.ContextualPopup\",\n            title: \"Add Feed\",\n            components: [\n                {name: \"textArea\", kind: \"onyx.TextArea\"},\n                {kind: \"onyx.Button\", content: \"Add\", ontap: \"addFeed\"}\n            ]\n        }\n    ],\n    addFeed: function(inSender, inEvent){\n        this.$.contextualPopup.hide();\n        socket.emit('add feed', {url: this.$.textArea.getValue()});\n    }\n});"]],"start1":0,"start2":0,"length1":0,"length2":4249}]],"length":4249}
{"contributors":[],"silentsave":false,"ts":1363953788335,"patch":[[{"diffs":[[0," true}\n    ]"],[1,",\n    setSelected: function(inSelected){\n        this.addRemoveClass(\"expandable\", !inSelected);\n        this.addRemoveClass(\"expandable-selected\", inSelected);\n    }"],[0,"\n});\n\nenyo.k"]],"start1":3669,"start2":3669,"length1":24,"length2":190}]],"length":4415,"saved":false}
{"ts":1363953815205,"patch":[[{"diffs":[[0,"    "],[-1,"    this.$.article.$.description.hide();\n    },\n    itemTap: function(inSender, inEvent){\n        var i = inEvent.index;\n        var link = this.articles[i].link;\n        \n        //window.open(link, '_blank');\n        \n        console.log(i);\n        this.$.article.$.description.setShowing(!this.$.article.$.description.showing);"],[1,"},\n    itemTap: function(inSender, inEvent){"],[0,"\n   "]],"start1":2981,"start2":2981,"length1":339,"length2":52},{"diffs":[[0,"rder-box"],[-1,""],[0,""],[1," expandable"],[0,"\",\n    c"]],"start1":3264,"start2":3264,"length1":16,"length2":27}]],"length":4139,"saved":false}
