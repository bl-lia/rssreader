{"ts":1363953661809,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"enyo.kind({\n    name: \"App\",\n    components: [\n        {\n            kind: \"Panels\",\n            name: \"mainPanel\",\n            classes: \"panels enyo-fit\",\n            arrangerKind: \"CollapsingArranger\",\n            components: [\n                {\n                    kind: \"Panels\",\n                    name: \"navPanel\",\n                    classes: \"panels enyo-fit\",\n                    components: [\n                        {kind: \"reader.fragment.Feeds\", name: \"feeds\"}\n                    ]\n                },\n                {\n                    kind: \"Panels\",\n                    name: \"contentPanel\",\n                    classes: \"panels enyo-fit\",\n                    components: [\n                        {\n                            kind: \"Panels\",\n                            name: \"articlePanel\",\n                            classes: \"panels enyo-fit article-panel\",\n                            components: [\n                                {kind: \"Scroller\", components: [\n                                    {kind: \"reader.fragment.Articles\", name: \"articles\"}\n                                ]}\n                            ]\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n});\n\nenyo.kind({\n    name: \"reader.fragment.Feeds\",\n    components: [\n        {\n            kind: \"reader.fragment.AddFeedBox\"\n        },\n        {\n            name: \"list\",\n            kind: \"List\",\n            count: 0,\n            onSetupItem: \"setupItem\",\n            components: [\n                {\n                    name: \"item\",\n                    ontap: \"itemTap\",\n                    components: [\n                        {\n                            name: \"name\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    feeds: [],\n    setupItem: function(inSender, inEvent){\n        this.$.name.setContent(this.feeds[inEvent.index].name);\n    },\n    itemTap: function(inSender, inEvent){\n        var i = inEvent.index;\n        var xmlUrl = this.feeds[i].xmlUrl;\n        \n        socket.emit('load feed articles', {url: xmlUrl});\n    },\n    refreshList: function(data){\n        this.feeds = data;\n        this.$.list.setCount(this.feeds.length);\n        this.$.list.refresh();\n    }\n});\n\nenyo.kind({\n    name: \"reader.fragment.Articles\",\n    components: [\n        {\n            content: \"aaaa\"\n        },\n        {\n            name: \"list\",\n            kind: \"List\",\n            count: 0,\n            onSetupItem: \"setupItem\",\n            components: [\n                {kind: \"reader.fragment.Article\", name: \"article\", ontap: \"itemTap\"},\n            ]\n        }\n    ],\n    articles: [],\n    setupItem: function(inSender, inEvent){\n        var i = inEvent.index;\n        \n        this.$.article.$.title.setContent(this.articles[i].title);\n        this.$.article.$.date.setContent(this.articles[i].date);\n        this.$.article.$.description.setContent(this.articles[i].description);\n        this.$.article.$.description.hide();\n    },\n    itemTap: function(inSender, inEvent){\n        var i = inEvent.index;\n        var link = this.articles[i].link;\n        \n        //window.open(link, '_blank');\n        \n        console.log(i);\n        this.$.article.$.description.setShowing(!this.$.article.$.description.showing);\n    },\n    refreshItem: function(data){\n        this.articles = data;\n        this.$.list.setCount(this.articles.length);\n        this.$.list.refresh();\n    }\n});\n\nenyo.kind({\n    name: \"reader.fragment.Article\",\n    classes: \"enyo-border-box\",\n    components: [\n        {name: \"date\"},\n        {name: \"title\"},\n        {name: \"description\", allowHtml: true}\n    ]\n});\n\nenyo.kind({\n    name: \"reader.fragment.AddFeedBox\",\n    kind: \"onyx.MenuDecorator\",\n    components: [\n        {content: \"Add Feed\"},\n        {\n            kind: \"onyx.ContextualPopup\",\n            title: \"Add Feed\",\n            components: [\n                {name: \"textArea\", kind: \"onyx.TextArea\"},\n                {kind: \"onyx.Button\", content: \"Add\", ontap: \"addFeed\"}\n            ]\n        }\n    ],\n    addFeed: function(inSender, inEvent){\n        this.$.contextualPopup.hide();\n        socket.emit('add feed', {url: this.$.textArea.getValue()});\n    }\n});"]],"start1":0,"start2":0,"length1":0,"length2":4249}]],"length":4249}
{"contributors":[],"silentsave":false,"ts":1363953788335,"patch":[[{"diffs":[[0," true}\n    ]"],[1,",\n    setSelected: function(inSelected){\n        this.addRemoveClass(\"expandable\", !inSelected);\n        this.addRemoveClass(\"expandable-selected\", inSelected);\n    }"],[0,"\n});\n\nenyo.k"]],"start1":3669,"start2":3669,"length1":24,"length2":190}]],"length":4415,"saved":false}
{"ts":1363953815205,"patch":[[{"diffs":[[0,"    "],[-1,"    this.$.article.$.description.hide();\n    },\n    itemTap: function(inSender, inEvent){\n        var i = inEvent.index;\n        var link = this.articles[i].link;\n        \n        //window.open(link, '_blank');\n        \n        console.log(i);\n        this.$.article.$.description.setShowing(!this.$.article.$.description.showing);"],[1,"},\n    itemTap: function(inSender, inEvent){"],[0,"\n   "]],"start1":2981,"start2":2981,"length1":339,"length2":52},{"diffs":[[0,"rder-box"],[-1,""],[0,""],[1," expandable"],[0,"\",\n    c"]],"start1":3264,"start2":3264,"length1":16,"length2":27}]],"length":4139,"saved":false}
{"contributors":[],"silentsave":false,"ts":1364029205099,"patch":[[{"diffs":[[0,"eeds[i]."],[-1,"xmlUrl"],[1,"feedId"],[0,";\n      "]],"start1":2045,"start2":2045,"length1":22,"length2":22},{"diffs":[[0,"', {"],[-1,"url: xmlUrl"],[1,"feedId: feedId"],[0,"});\n"]],"start1":2109,"start2":2109,"length1":19,"length2":22},{"diffs":[[0,"m: \"setupItem\",\n"],[1,"            multiSelect: true,\n"],[0,"            comp"]],"start1":2512,"start2":2512,"length1":32,"length2":63},{"diffs":[[0,"ption);\n"],[1,"        \n        this.$.article.setSelected(inSender.isSelected(i));\n"],[0,"    },\n "]],"start1":3007,"start2":3007,"length1":16,"length2":85},{"diffs":[[0,": \"title\"},\n"],[-1,""],[0,"        {nam"]],"start1":3444,"start2":3444,"length1":24,"length2":24},{"diffs":[[0,"iption\","],[1," classes: \"description\","],[0," allowHt"]],"start1":3477,"start2":3477,"length1":16,"length2":40}]],"length":4266,"saved":false}
{"ts":1364029212898,"patch":[[{"diffs":[[0,"var "],[-1,"xmlUrl"],[1,"feedId"],[0," = t"]],"start1":2026,"start2":2026,"length1":14,"length2":14}]],"length":4266,"saved":false}
{"contributors":[],"silentsave":false,"ts":1364029253828,"patch":[[{"diffs":[[0,"    var "],[-1,"feedI"],[1,"i"],[0,"d = this"]],"start1":2022,"start2":2022,"length1":21,"length2":17},{"diffs":[[0,"feedId: "],[-1,"feedI"],[1,"i"],[0,"d});\n   "]],"start1":2109,"start2":2109,"length1":21,"length2":17}]],"length":4258,"saved":false}
{"ts":1364029257274,"patch":[[{"diffs":[[0,"cles', {"],[-1,"feedI"],[1,"i"],[0,"d: id});"]],"start1":2101,"start2":2101,"length1":21,"length2":17}]],"length":4254,"saved":false}
{"ts":1364029266661,"patch":[[{"diffs":[[0,"    var "],[-1,"i"],[1,"feedI"],[0,"d = this"]],"start1":2022,"start2":2022,"length1":17,"length2":21},{"diffs":[[0,"', {id: "],[-1,"i"],[1,"feedI"],[0,"d});\n   "]],"start1":2109,"start2":2109,"length1":17,"length2":21}]],"length":4262,"saved":false}
{"ts":1364030082759,"patch":[[{"diffs":[[0,"eeds[i]."],[-1,"feedI"],[1,"_i"],[0,"d;\n     "]],"start1":2045,"start2":2045,"length1":21,"length2":18}]],"length":4259,"saved":false}
